(this["webpackJsonpex.add-redux-in-react-app"]=this["webpackJsonpex.add-redux-in-react-app"]||[]).push([[0],{32:function(e,t,o){},34:function(e,t,o){},35:function(e,t,o){},36:function(e,t,o){},37:function(e,t,o){},38:function(e,t,o){},39:function(e,t,o){},40:function(e,t,o){},41:function(e,t,o){},42:function(e,t,o){},43:function(e,t,o){},44:function(module,exports){if(function(e){if(!e.fastXDM){var t={},o={},n=[],i={};e.fastXDM={_id:0,helperUrl:"https://vk.com/js/api/xdmHelper.js",Server:function(o,n,i){this.methods=o||{},this.filter=n,this.options=i||{},this.id=e.fastXDM._id++,this.key=function(){for(var e="",t=0;t<5;t++)e+=Math.ceil(15*Math.random()).toString(16);return e}(),this.frameName="fXD"+this.key,this.server=!0,this.methods["%init%"]=this.methods.__fxdm_i=function(){d((function(t){for(var o in this.methods)if(this.methods[o]instanceof e.fastXDM.Server){var n=this.methods[o];"p"===t.protocol&&t.send(this,t.json.stringify(["%proxy%",[o,n.key]])),this.methods[o]=function(){this.callMethod.apply(this,arguments)}.bind(n)}}),this),e.fastXDM.run(this.id),this.methods.onInit&&this.methods.onInit()},t[this.key]=[l,this]},Client:function(n,i){if(this.methods=n||{},this.options=i||{},this.id=e.fastXDM._id++,this.client=!0,e.fastXDM.run(this.id),0!==window.name.indexOf("fXD"))throw Error("Wrong window.name property.");this.key=window.name.substr(3),this.caller=window.parent,o[this.key]||(o[this.key]={}),this.methods["%proxy%"]=function(e,t){e&&t&&this.caller.frames["fXD"+t]&&(o[this.key][e]={key:t,frame:{contentWindow:this.caller.frames["fXD"+t]}})}.bind(this),t[this.key]=[l,this],e.fastXDM.on("helper",(function(){e.fastXDM.onClientStart(this)}),this),d((function(e){e.send(this,e.json.stringify(["%init%"]));var t=this.methods;setTimeout((function(){t.onInit&&t.onInit()}),0)}),this)},onMessage:function(e){var o=e.data;if(!o)return!1;if("string"!==typeof o&&!(o instanceof String))return!1;var n=o.substr(0,5);if(t[n]){var i=t[n][1];!i||i.filter&&!i.filter(e.origin)||t[n][0](o.substr(6),i,e.origin)}},setJSON:function(e){i.json=e},getJSON:function(e){if(!e)return i.json;d((function(t){e(t.json)}))},getProxyToServer:function(e,t){return o[e]&&o[e][t]},setEnv:function(e){for(var t in e)i[t]=e[t];c()},_q:{},on:function(e,t,o){this._q[e]||(this._q[e]=[]),-1==this._q[e]?t.apply(o):this._q[e].push([t,o])},run:function(e){for(var t=(this._q[e]||[]).length,o=0;o<t;o++)this._q[e][o][0].apply(this._q[e][o][1]);this._q[e]=-1},waitFor:r},e.fastXDM.Server.prototype.start=function(t,o){if(t.contentWindow)this.caller=t.contentWindow,this.frame=t,e.fastXDM.on("helper",(function(){e.fastXDM.onServerStart(this)}),this);else{var n=this;(o=o||0)<50&&setTimeout((function(){n.start.apply(n,[t,o+1])}),100)}},e.fastXDM.Server.prototype.destroy=function(){delete t[this.key]},e.fastXDM.Server.prototype.append=function(e,t,o){var n=document.createElement("DIV");n.innerHTML='<iframe name="'+this.frameName+'" '+(o||"")+"></iframe>";var i=n.firstChild,r=this;return setTimeout((function(){i.frameBorder="0",t&&u(i,t),e.insertBefore(i,e.firstChild),r.start(i)}),0),i},e.fastXDM.Client.prototype.callMethod=e.fastXDM.Server.prototype.callMethod=function(){for(var t=Array.prototype.slice.call(arguments),o=t.shift(),n=0,i=t.length;n<i;n++)if("function"===typeof t[n]){this.funcsCount=(this.funcsCount||0)+1;var s=t[n],c="_func"+this.funcsCount;this.methods[c]=function(){s.apply(this,arguments),delete this.methods[c]},t[n]={_func:this.funcsCount}}else this.options.safe&&(t[n]=a(t[n],!1));r(this,"caller",(function(){e.fastXDM.on(this.id,(function(){d((function(n){var i=this,r=e.fastXDM.getProxyToServer(this.key,o);r&&(i=r,o=t.shift()),n.send(i,n.json.stringify([o,t]))}),this)}),this)}),this)},e.fastXDM.Client.prototype.isUnsafeMethod=e.fastXDM.Server.prototype.isUnsafeMethod=function(e){return~["%proxy%","%init%"].indexOf(e)||this.options.unsafeMethods&&~this.options.unsafeMethods.indexOf(e)},e.JSON&&"object"===typeof e.JSON&&e.JSON.parse&&e.JSON.stringify&&'{"a":[1,2,3]}'===e.JSON.stringify({a:[1,2,3]}).replace(/ /g,"")?i.json={parse:e.JSON.parse,stringify:e.JSON.stringify}:e.fastXDM._needJSON=!0,e.postMessage?(i.protocol="p",i.send=function(e,t){var o=e.frame?e.frame.contentWindow:e.caller;if(o)try{o.postMessage(e.key+":"+t,"*")}catch(n){window.postMessage.call(o,e.key+":"+t,"*")}},e.addEventListener?e.addEventListener("message",e.fastXDM.onMessage,!1):e.attachEvent("onmessage",e.fastXDM.onMessage),e.fastXDM._needJSON?(e.fastXDM._onlyJSON=!0,s()):c()):s()}function r(e,t,o,n,i){e[t]?o.apply(n):(i=i||0)<1e3&&setTimeout((function(){r(e,t,o,n,i+1)}),0)}function s(t){setTimeout((function(){var o=document.createElement("script");o.type="text/javascript",o.src=t||e.fastXDM.helperUrl,r(document,"body",(function(){document.getElementsByTagName("HEAD")[0].appendChild(o)}))}),0)}function a(e,t){var o;switch(typeof e){case"string":o=t?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):e.replace(/&#039;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&");break;case"object":if("[object Array]"===Object.prototype.toString.apply(e)){o=[];for(var n=0,i=e.length;n<i;n++)o[n]=a(e[n],t)}else for(var r in o={},e)Object.hasOwnProperty.call(e,r)&&(o[r]=a(e[r],t));break;default:o=e}return o}function d(e,t){i.loaded?e.apply(t,[i]):n.push([t,e])}function c(){i.loaded=!0;for(var e=0,t=n.length;e<t;e++)n[e][1].apply(n[e][0],[i])}function l(t,o,n){d((function(i){var r=i.json.parse(t),s=r[0];if(s){if("p"===i.protocol&&o.options.sameOrigin&&n!==e.origin&&!o.isUnsafeMethod(s))throw Error("Insecure method call.");r[1]||(r[1]=[]);for(var d=0,c=r[1].length;d<c;d++)if(r[1][d]&&r[1][d]._func){var l=r[1][d]._func;r[1][d]=function(){var e=Array.prototype.slice.call(arguments);e.unshift("_func"+l),o.callMethod.apply(o,e)}}else o.options.safe&&(r[1][d]=a(r[1][d],!0));setTimeout((function(){if(!o.methods[s])throw Error("fastXDM: Method "+s+" is undefined");o.methods[s].apply(o,r[1])}),0)}}))}function u(e,t){for(var o in t)e[o]&&"object"===typeof e[o]?u(e[o],t[o]):e[o]=t[o]}}(window),window.VK||(window.VK={}),VK.MD5||(VK.MD5=function(e){var t,o=function(e,t){var o=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(o>>16)<<16|65535&o},n=function(e,t,n,i,r,s){return o(function(e,t){return e<<t|e>>>32-t}(o(o(t,e),o(i,s)),r),n)},i=function(e,t,o,i,r,s,a){return n(t&o|~t&i,e,t,r,s,a)},r=function(e,t,o,i,r,s,a){return n(t&i|o&~i,e,t,r,s,a)},s=function(e,t,o,i,r,s,a){return n(t^o^i,e,t,r,s,a)},a=function(e,t,o,i,r,s,a){return n(o^(t|~i),e,t,r,s,a)};return function(e){for(var t,o="0123456789abcdef",n="",i=0,r=e.length;i<r;i++)t=e.charCodeAt(i),n+=o.charAt(t>>>4&15)+o.charAt(15&t);return n}(function(e){for(var t="",o=0,n=32*e.length;o<n;o+=8)t+=String.fromCharCode(e[o>>5]>>>o%32&255);return t}(function(e,t){var n,d,c,l,u=1732584193,p=-271733879,h=-1732584194,f=271733878;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var m=0,g=e.length;m<g;m+=16)n=u,d=p,c=h,l=f,u=i(u,p,h,f,e[m+0],7,-680876936),f=i(f,u,p,h,e[m+1],12,-389564586),h=i(h,f,u,p,e[m+2],17,606105819),p=i(p,h,f,u,e[m+3],22,-1044525330),u=i(u,p,h,f,e[m+4],7,-176418897),f=i(f,u,p,h,e[m+5],12,1200080426),h=i(h,f,u,p,e[m+6],17,-1473231341),p=i(p,h,f,u,e[m+7],22,-45705983),u=i(u,p,h,f,e[m+8],7,1770035416),f=i(f,u,p,h,e[m+9],12,-1958414417),h=i(h,f,u,p,e[m+10],17,-42063),p=i(p,h,f,u,e[m+11],22,-1990404162),u=i(u,p,h,f,e[m+12],7,1804603682),f=i(f,u,p,h,e[m+13],12,-40341101),h=i(h,f,u,p,e[m+14],17,-1502002290),p=i(p,h,f,u,e[m+15],22,1236535329),u=r(u,p,h,f,e[m+1],5,-165796510),f=r(f,u,p,h,e[m+6],9,-1069501632),h=r(h,f,u,p,e[m+11],14,643717713),p=r(p,h,f,u,e[m+0],20,-373897302),u=r(u,p,h,f,e[m+5],5,-701558691),f=r(f,u,p,h,e[m+10],9,38016083),h=r(h,f,u,p,e[m+15],14,-660478335),p=r(p,h,f,u,e[m+4],20,-405537848),u=r(u,p,h,f,e[m+9],5,568446438),f=r(f,u,p,h,e[m+14],9,-1019803690),h=r(h,f,u,p,e[m+3],14,-187363961),p=r(p,h,f,u,e[m+8],20,1163531501),u=r(u,p,h,f,e[m+13],5,-1444681467),f=r(f,u,p,h,e[m+2],9,-51403784),h=r(h,f,u,p,e[m+7],14,1735328473),p=r(p,h,f,u,e[m+12],20,-1926607734),u=s(u,p,h,f,e[m+5],4,-378558),f=s(f,u,p,h,e[m+8],11,-2022574463),h=s(h,f,u,p,e[m+11],16,1839030562),p=s(p,h,f,u,e[m+14],23,-35309556),u=s(u,p,h,f,e[m+1],4,-1530992060),f=s(f,u,p,h,e[m+4],11,1272893353),h=s(h,f,u,p,e[m+7],16,-155497632),p=s(p,h,f,u,e[m+10],23,-1094730640),u=s(u,p,h,f,e[m+13],4,681279174),f=s(f,u,p,h,e[m+0],11,-358537222),h=s(h,f,u,p,e[m+3],16,-722521979),p=s(p,h,f,u,e[m+6],23,76029189),u=s(u,p,h,f,e[m+9],4,-640364487),f=s(f,u,p,h,e[m+12],11,-421815835),h=s(h,f,u,p,e[m+15],16,530742520),p=s(p,h,f,u,e[m+2],23,-995338651),u=a(u,p,h,f,e[m+0],6,-198630844),f=a(f,u,p,h,e[m+7],10,1126891415),h=a(h,f,u,p,e[m+14],15,-1416354905),p=a(p,h,f,u,e[m+5],21,-57434055),u=a(u,p,h,f,e[m+12],6,1700485571),f=a(f,u,p,h,e[m+3],10,-1894986606),h=a(h,f,u,p,e[m+10],15,-1051523),p=a(p,h,f,u,e[m+1],21,-2054922799),u=a(u,p,h,f,e[m+8],6,1873313359),f=a(f,u,p,h,e[m+15],10,-30611744),h=a(h,f,u,p,e[m+6],15,-1560198380),p=a(p,h,f,u,e[m+13],21,1309151649),u=a(u,p,h,f,e[m+4],6,-145523070),f=a(f,u,p,h,e[m+11],10,-1120210379),h=a(h,f,u,p,e[m+2],15,718787259),p=a(p,h,f,u,e[m+9],21,-343485551),u=o(u,n),p=o(p,d),h=o(h,c),f=o(f,l);return[u,p,h,f]}(function(e){var t,o,n=Array(e.length>>2);for(t=0,o=n.length;t<o;t++)n[t]=0;for(t=0,o=8*e.length;t<o;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}(t=function(e){for(var t,o,n="",i=-1,r=e.length;++i<r;)t=e.charCodeAt(i),o=i+1<r?e.charCodeAt(i+1):0,55296<=t&&t<=56319&&56320<=o&&o<=57343&&(t=65536+((1023&t)<<10)+(1023&o),i++),t<=127?n+=String.fromCharCode(t):t<=2047?n+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?n+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(n+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return n}(e)),8*t.length)))}),VK.extend=function(e,t,o){for(var n in t)(o||"undefined"===typeof e[n])&&(e[n]=t[n]);return e},VK.extend(VK,{_domain:{base:"https://vk.com",login:"https://login.vk.com",main:"https://oauth.vk.com",api:"https://api.vk.com"}},!0),VK.xdConnectionCallbacks)setTimeout((function(){for(var e;e=VK.xdConnectionCallbacks.pop();)e()}),0),VK.Widgets&&!VK.Widgets._constructor&&(VK.Widgets=!1);else{function obj2qs(e){if(!e)return"";var t=[];for(var o in e)e.hasOwnProperty(o)&&t.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o].toString()||""));return t.length?"?"+t.join("&"):""}VK.extend(VK,{version:1,_apiId:null,_session:null,_userStatus:"unknown",_path:{login:"authorize",proxy:"fxdm_oauth_proxy.html"},_rootId:"vk_api_transport",_nameTransportPath:"",xdReady:!1,access:{FRIENDS:2,PHOTOS:4,AUDIO:8,VIDEO:16,MATCHES:32,QUESTIONS:64,WIKI:128}}),VK.init=function(e){var t,o;if(VK._apiId=null,!e.apiId)throw Error("VK.init() called without an apiId");if(VK._apiId=e.apiId,e.onlyWidgets)return!0;e.nameTransportPath&&""!==e.nameTransportPath&&(VK._nameTransportPath=e.nameTransportPath),(o=document.getElementById(VK._rootId))||((o=document.createElement("div")).id=VK._rootId,(t=document.getElementsByTagName("body")[0]).insertBefore(o,t.childNodes[0])),o.style.position="absolute",o.style.top="-10000px";var n=VK.Cookie.load();n&&(VK.Auth._loadState="loaded",VK.Auth.setSession(n,n?"connected":"unknown"))},VK.Cookie||(VK.Cookie={_domain:null,load:function(){var e,t=document.cookie.match("\\bvk_app_"+VK._apiId+"=([^;]*)\\b");if(t){if("oauth"!=(e=this.decode(t[1])).secret)return!1;e.expire=parseInt(e.expire,10),VK.Cookie._domain="."+window.location.hostname}return e},setRaw:function(e,t,o,n){var i;i="vk_app_"+VK._apiId+"="+e;var r=n?(new Date).getTime()+1e3*n:1e3*t;i+=e&&0===t?"":"; expires="+new Date(r).toGMTString(),i+="; path=/",i+=o?"; domain=."+o:"",document.cookie=i,this._domain=o},set:function(e,t){e?this.setRaw(this.encode(e),e.expire,window.location.hostname,(t||{}).time):this.clear()},clear:function(){this.setRaw("",0,this._domain,0)},encode:function(e){var t,o=[];for(t in e)"user"!=t&&o.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return o.sort(),o.join("&")},decode:function(e){var t,o,n={},i=e.split("&");for(t=0;t<i.length;t++)(o=i[t].split("=",2))&&o[0]&&(n[decodeURIComponent(o[0])]=decodeURIComponent(o[1]));return n}}),VK.Api||(VK.Api={_headId:null,_callbacks:{},ie6_7:function(){return VK.Api.ieTested||(VK.Api.isIE6_7=navigator.userAgent.match(/MSIE [6|7]/i),VK.Api.ieTested=!0),VK.Api.isIE6_7},supportCORS:function(){return"withCredentials"in new XMLHttpRequest||"undefined"!=typeof XDomainRequest},makeRequest:function(e,t){var o=VK.Api.createRequest("GET",e);return!!o&&(o.onload=function(){var e=o.responseText;if(200===o.status)t(e);else try{console.error("Open api access error",o.response)}catch(n){}},o.onerror=function(){try{console.error("Open api access error")}catch(e){}},o.send(),!0)},createRequest:function(e,t){var o=new XMLHttpRequest;return"withCredentials"in o?(o.open(e,t,!0),o.withCredentials=!0):"undefined"!=typeof XDomainRequest?((o=new XDomainRequest).open(e,t),o.withCredentials=!0):o=null,o},attachScript:function(e){VK.Api._headId||(VK.Api._headId=document.getElementsByTagName("head")[0]);var t=document.createElement("script");t.type="text/javascript",t.setAttribute("encoding","UTF-8"),t.src=e,VK.Api._headId.appendChild(t)},checkMethod:function(e,t,o,n){var i=e.toLowerCase();if("wall.post"===i){var r,s,a,d,c=/(^https?:\/\/)|(^(poll|album|photo|video|doc|audio|page|note)-?\d+_-?\d+)$/,l=[];t.v||(t.v="5.95"),t.attachments=t.attachments||t.attachment||[],"string"===typeof t.attachments&&(t.attachments=t.attachments.split(","));for(var u=0;u<t.attachments.length;u++){var p=t.attachments[u].trim();c.test(p)&&l.push(p)}return t.attachments=l.length?l:"",r="_"+Math.random().toString(16).substr(2),s={act:"wall_post_box",method:i,widget:4,aid:parseInt(VK._apiId,10),text:t.message||"",method_access:r},(s=VK.extend(s,t)).owner_id=parseInt(t.owner_id||0,10),s.publish_date=t.publish_date||"",a=VK._domain.base+"/al_apps.php",a+=obj2qs(s),VK.UI.popup({url:a,width:560,height:304}),d=setInterval((function(){VK.UI.active.closed&&(clearInterval(d),t.method_access=r,VK.Api.call(e,t,o,n))}),500),!1}return"messages.allowmessagesfromgroup"!=i||(r="_"+Math.random().toString(16).substr(2),a=VK._domain.base+"/widget_allow_messages_from_community.php?act=allow_box&group_id="+parseInt(t.group_id,10)+"&app_id="+parseInt(VK._apiId,10)+"&method_access="+r,VK.UI.popup({url:a,width:560,height:304}),d=setInterval((function(){VK.UI.active.closed&&(clearInterval(d),t.method_access=r,VK.Api.call(e,t,o,n))}),500),!1)},call:function(e,t,o,n){var i,r,s=t||{};if("object"!=typeof s||"function"!=typeof o)return!1;if(t.method_access||t.method_force||VK.Api.checkMethod(e,t,o,n)){if(n||(n=0),"loaded"!=VK.Auth._loadState){return VK.Observer.subscribe("auth.loginStatus",(function n(i){i&&i.session&&(VK.Observer.unsubscribe("auth.loginStatus",n),VK.Api.call(e,t,o))})),void VK.Auth.getLoginStatus()}if(VK.Api.queryLength(s)<1500&&!VK.Api.ie6_7()){for(var a=!1,d=parseInt(1e7*Math.random(),10);VK.Api._callbacks[d];)d=parseInt(1e7*Math.random(),10);s.callback="VK.Api._callbacks["+d+"]"}else a=!0;VK._session&&VK._session.sid&&(s.access_token=VK._session.sid),i=VK.Cookie.encode(s),r=function(i){if(!i.error||3!=i.error.error_code&&4!=i.error.error_code&&5!=i.error.error_code)o(i);else{if(n>3)return!1;VK.Observer.subscribe("auth.sessionChange",(function i(r){VK.Observer.unsubscribe("auth.sessionChange",i),delete t.access_token,r.session&&VK.Api.call(e,t,o,n+1)})),VK.Auth.getLoginStatus()}a||delete VK.Api._callbacks[d]},a?VK.xdReady?VK.XDM.remote.callMethod("apiCall",e,i,r):(VK.Observer.subscribe("xdm.init",(function(){VK.XDM.remote.callMethod("apiCall",e,i,r)})),VK.XDM.init()):(VK.Api._callbacks[d]=r,VK.Api.attachScript(VK._domain.api+"/method/"+e+"?"+i))}},queryLength:function(e){var t,o=100;for(t in e)o+=t.length+encodeURIComponent(e[t]).length+1;return o}},VK.api=function(e,t,o){VK.Api.call(e,t,o)}),VK.Auth||(VK.Auth={popup:null,lsCb:{},setSession:function(e,t,o,n){var i=!VK._session&&e,r=VK._session&&!e,s=VK._session&&e&&VK._session.mid!=e.mid,a=i||r||VK._session&&e&&VK._session.sid!=e.sid,d=t!=VK._userStatus,c={session:e,status:t,settings:o};return VK._session=e,VK._userStatus=t,VK.Cookie.set(e,n),(a||d||s)&&setTimeout((function(){d&&VK.Observer.publish("auth.statusChange",c),(r||s)&&VK.Observer.publish("auth.logout",c),(i||s)&&VK.Observer.publish("auth.login",c),a&&VK.Observer.publish("auth.sessionChange",c)}),0),c},login:function(e,t){if(!VK._apiId)return!1;var o=VK._domain.main+"/"+VK._path.login+"?client_id="+VK._apiId+"&display=popup&redirect_uri=close.html&response_type=token&openapi=1";t&&parseInt(t,10)>0&&(o+="&scope="+t),VK.Observer.unsubscribe("auth.onLogin"),VK.Observer.subscribe("auth.onLogin",e),VK.UI.popup({width:665,height:370,url:o});var n=function(){VK.Auth.getLoginStatus((function(e){VK.Observer.publish("auth.onLogin",e),VK.Observer.unsubscribe("auth.onLogin")}),!0)};VK.UI.popupOpened=!0;setTimeout((function e(){if(!VK.UI.popupOpened)return!1;try{if(!VK.UI.active.top||VK.UI.active.closed)return VK.UI.popupOpened=!1,n(),!0}catch(t){return VK.UI.popupOpened=!1,n(),!0}setTimeout(e,100)}),100)},logout:function(e){VK.Auth.revokeGrants(e)},revokeGrants:function(e){if(VK.Observer.subscribe("auth.statusChange",(function t(o){VK.Observer.unsubscribe("auth.statusChange",t),e&&e(o)})),VK._session&&VK._session.sid){var t=VK._domain.login+"?act=openapi&oauth=1&aid="+parseInt(VK._apiId,10)+"&location="+encodeURIComponent(window.location.hostname)+"&do_logout=1&token="+VK._session.sid;if(VK.Api.supportCORS()){VK.Api.makeRequest(t+"&new=1",(function(){VK.Auth.setSession(null,"unknown")}))}else VK.Api.attachScript(t)}VK.Cookie.clear()},getSession:function(){return VK._session},getLoginStatus:function getLoginStatus(cb,force){if(VK._apiId){if(cb){if(!force&&"loaded"==VK.Auth._loadState)return void cb({status:VK._userStatus,session:VK._session});VK.Observer.subscribe("auth.loginStatus",cb)}if(force||"loading"!=VK.Auth._loadState){VK.Auth._loadState="loading";var url=VK._domain.login+"?act=openapi&oauth=1&aid="+parseInt(VK._apiId,10)+"&location="+encodeURIComponent(window.location.hostname);if(VK.Api.supportCORS()){var loginCallback=function loginCallback(response){if(this.JSON||(this.JSON={}),response="function"!==typeof JSON.parse?eval(response):JSON.parse(response),VK.Auth._loadState="loaded",response&&response.auth){var session={mid:response.user.id,sid:response.access_token,sig:response.sig,secret:response.secret,expire:response.expire};force&&(session.user=response.user);var status="connected"}else{var session=null,status=response.user?"not_authorized":"unknown";VK.Cookie.clear()}VK.Auth.setSession(session,status,!1,response),VK.Observer.publish("auth.loginStatus",{session:session,status:status}),VK.Observer.unsubscribe("auth.loginStatus")};VK.Api.makeRequest(url+"&new=1",loginCallback)}else{for(var rnd=parseInt(1e7*Math.random(),10);VK.Auth.lsCb[rnd];)rnd=parseInt(1e7*Math.random(),10);VK.Auth.lsCb[rnd]=function(e){if(delete VK.Auth.lsCb[rnd],VK.Auth._loadState="loaded",e&&e.auth){var t={mid:e.user.id,sid:e.access_token,sig:e.sig,secret:e.secret,expire:e.expire};force&&(t.user=e.user);var o="connected"}else{t=null,o=e.user?"not_authorized":"unknown";VK.Cookie.clear()}VK.Auth.setSession(t,o,!1,e),VK.Observer.publish("auth.loginStatus",{session:t,status:o}),VK.Observer.unsubscribe("auth.loginStatus")},VK.Api.attachScript(url+"&rnd="+rnd)}}}}}),VK.App||(VK.App={_appOpened:!1,_addToGroupPopup:null,open:function(e,t){!VK.App._appOpened&&VK._apiId&&(VK._session?VK.App._openApp(e,t):VK.Auth.login((function(o){o&&o.session&&VK.App._openApp(e,t)})))},_openApp:function(e,t){var o,n,i=[];if(t=t||{},e&&VK._apiId&&!VK.App._appOpened){if("[object Object]"===Object.prototype.toString.call(t.data))try{t.data=JSON.stringify(t.data)}catch(a){t.data=""}for(var r in o=VK._domain.base+"/apps?act=open_external_app_openapi&aid="+VK._apiId,t.aid=VK._apiId,t){var s="";t.hasOwnProperty(r)&&(void 0!==t[r]&&(s=encodeURIComponent(t[r])),i.push(encodeURIComponent(r)+"="+s))}o+="&url="+e,o+="&q="+encodeURIComponent(i.join("&")),(n=VK.Util.Box(o,{},{closeExternalApp:function(){VK.App._result?(VK.Observer.publish("app.done",VK.App._result),VK.App._result=null):VK.Observer.publish("app.closed"),n.hide(),VK.App._appOpened=!1},externalAppDone:function(e,t){t?VK.App._result=e:(VK.Observer.publish("app.done",e),n.hide(),VK.App._appOpened=!1,VK.App._result=null)}})).show(),VK.App._appOpened=!0,VK.App._result=null}},addToGroup:function(e){this._addToGroupPopup&&!this._addToGroupPopup.closed||(this._onAddToGroupDone&&VK.Util.removeEvent("message",this._onAddToGroupDone,window),this._onAddToGroupDone=function(e){e.origin===VK._domain.base&&"app.addToGroup"===e.data.method&&(VK.Observer.publish("app.addToGroupDone",{app_id:e.data.app_id,group_ids:e.data.group_ids}),VK.Util.removeEvent("message",this._onAddToGroupDone,window),this._onAddToGroupDone=null)}.bind(this),window.postMessage&&VK.Util.addEvent("message",this._onAddToGroupDone,window),this._addToGroupPopup=VK.UI.popup({url:VK._domain.base+"/add_community_app.php?aid="+e,width:560,height:650}))}})}VK.UI||(VK.UI={active:null,_buttons:[],popup:function(e){var t,o="undefined"!=typeof window.screenX?window.screenX:window.screenLeft,n="undefined"!=typeof window.screenY?window.screenY:window.screenTop,i="undefined"!=typeof window.outerWidth?window.outerWidth:document.body.clientWidth,r="undefined"!=typeof window.outerHeight?window.outerHeight:document.body.clientHeight-22,s=e.width,a=e.height,d=parseInt(o+(i-s)/2,10),c=parseInt(n+(r-a)/2.5,10);return t="width="+s+",height="+a+",left="+(d=window.screen&&window.screenX&&screen.left&&screen.left>1e3?0:d)+",top="+c,this.active=window.open(e.url,"vk_openapi",t),this.active},button:function(e,t){var o;"string"==typeof e&&(e=document.getElementById(e)),this._buttons.push(e),index=this._buttons.length-1,o='<table cellspacing="0" cellpadding="0" id="openapi_UI_'+index+'" onmouseover="VK.UI._change(1, '+index+');" onmouseout="VK.UI._change(0, '+index+');" onmousedown="VK.UI._change(2, '+index+');" onmouseup="VK.UI._change(1, '+index+');" style="cursor: pointer; border: 0px; font-family: tahoma, arial, verdana, sans-serif, Lucida Sans; font-size: 10px;"><tr style="vertical-align: middle"><td><div style="border: 1px solid #3b6798;border-radius: 2px 0px 0px 2px;-moz-border-radius: 2px 0px 0px 2px;-webkit-border-radius: 2px 0px 0px 2px;"><div style="border: 1px solid #5c82ab; border-top-color: #7e9cbc; background-color: #6D8DB1; color: #fff; text-shadow: 0px 1px #45688E; height: 15px; padding: 2px 4px 0px 6px;line-height: 13px;">&#1042;&#1086;&#1081;&#1090;&#1080;</div></div></td><td><div style="background: url('+VK._domain.base+'/images/btns.png) 0px -42px no-repeat; width: 21px; height: 21px"></div></td><td><div style="border: 1px solid #3b6798;border-radius: 0px 2px 2px 0px;-moz-border-radius: 0px 2px 2px 0px;-webkit-border-radius: 0px 2px 2px 0px;"><div style="border: 1px solid #5c82ab; border-top-color: #7e9cbc; background-color: #6D8DB1; color: #fff; text-shadow: 0px 1px #45688E; height: 15px; padding: 2px 6px 0px 4px;line-height: 13px;">&#1050;&#1086;&#1085;&#1090;&#1072;&#1082;&#1090;&#1077;</div></div></td></tr></table>',e.innerHTML=o,e.style.width=e.childNodes[0].offsetWidth+"px"},_change:function(e,t){for(var o=document.getElementById("openapi_UI_"+t).rows[0],n=[o.cells[0].firstChild.firstChild,o.cells[2].firstChild.firstChild],i=0;i<2;++i){var r=n[i];0===e?(r.style.backgroundColor="#6D8DB1",r.style.borderTopColor="#7E9CBC",r.style.borderLeftColor=r.style.borderRightColor=r.style.borderBottomColor="#5C82AB"):1==e?(r.style.backgroundColor="#7693B6",r.style.borderTopColor="#88A4C4",r.style.borderLeftColor=r.style.borderRightColor=r.style.borderBottomColor="#6088B4"):2==e&&(r.style.backgroundColor="#6688AD",r.style.borderBottomColor="#7495B8",r.style.borderLeftColor=r.style.borderRightColor=r.style.borderTopColor="#51779F")}0===e||2==e?o.cells[2].firstChild.style.backgroundPosition="0px -42px":1==e&&(o.cells[2].firstChild.style.backgroundPosition="0px -63px")}}),VK.XDM||(VK.XDM={remote:null,init:function(){if(this.remote)return!1;var e=VK._domain.api+"/"+VK._path.proxy;this.remote=new fastXDM.Server({onInit:function(){VK.xdReady=!0,VK.Observer.publish("xdm.init")}}),this.remote.append(document.getElementById(VK._rootId),{src:e})},xdHandler:function xdHandler(code){try{eval("VK."+code)}catch(e){}}}),VK.Observer||(VK.Observer={_subscribers:function(){return this._subscribersMap||(this._subscribersMap={}),this._subscribersMap},publish:function(e){var t,o,n=Array.prototype.slice.call(arguments),i=(e=n.shift(),this._subscribers()[e]);if(i)for(t=0,o=i.length;t<o;t++)null!=i[t]&&i[t].apply(this,n)},subscribe:function(e,t){var o=this._subscribers();if("function"!=typeof t)return!1;o[e]?o[e].push(t):o[e]=[t]},unsubscribe:function(e,t){var o,n,i=this._subscribers()[e];if(!i)return!1;if("function"==typeof t)for(o=0,n=i.length;o<n;o++)i[o]==t&&(i[o]=null);else delete this._subscribers()[e]}}),VK.Widgets||(VK.Widgets={},VK.Widgets.count=0,VK.Widgets.RPC={},VK.Widgets.loading=function(e,t){e.style.background=t?'url("'+VK._domain.base+'/images/upload.gif") center center no-repeat transparent':"none"},VK.Widgets.Comments=function(e,t,o){var n=VK.Util.getPageData();if(!VK._apiId)throw Error("VK not initialized. Please use VK.init");t=VK.Util.parseOptions(t);document.getElementById(e);var i,r={limit:t.limit||10,height:t.height||0,mini:void 0===t.mini?"auto":t.mini,norealtime:t.norealtime?1:0},s=function(){return i.callMethod("mouseUp"),!1},a=function(e){i.callMethod("mouseMove",{screenY:e.screenY})};if(t.browse)r.browse=1,r.replies=t.replies||0;else{var d=t.pageUrl||n.url;"/"==d.substr(0,1)&&(d=location.protocol+"//"+location.host+d),VK.extend(r,{page:o||0,status_publish:void 0===t.autoPublish?0:t.autoPublish,attach:void 0===t.attach?"*":t.attach?t.attach:"",url:d,title:t.pageTitle||n.title,description:t.pageDescription||n.description,image:t.pageImage||n.image})}return t.onChange&&(VK.Observer.subscribe("widgets.comments.new_comment",t.onChange),VK.Observer.subscribe("widgets.comments.delete_comment",t.onChange)),VK.Widgets._constructor("widget_comments.php",e,t,r,{showBox:function(e,t){VK.Util.Box(VK.Util.getAbsUrl(e),[],{proxy:i}).show()},startDrag:function(){cursorBack=window.document.body.style.cursor,window.document.body.style.cursor="pointer",VK.Util.addEvent("mousemove",a),VK.Util.addEvent("mouseup",s)},stopDrag:function(){window.document.body.style.cursor=cursorBack,VK.Util.removeEvent("mousemove",a),VK.Util.removeEvent("mouseup",s)}},{startHeight:133,minWidth:300},(function(e,t,o){t,i=o}))},VK.Widgets.CommentsBrowse=function(e,t){return(t=VK.Util.parseOptions(t)).browse=1,VK.Widgets.Comments(e,t)},VK.Widgets.Recommended=function(e,t){VK.Util.getPageData();if(!VK._apiId)throw Error("VK not initialized. Please use VK.init");var o={limit:(t=VK.Util.parseOptions(t)).limit||5,max:t.max||0,sort:t.sort||"friend_likes",verb:t.verb||0,period:t.period||"week",target:t.target||"parent"};return VK.Widgets._constructor("widget_recommended.php",e,t,o,{},{startHeight:116+47*o.limit-15,minWidth:150})},VK.Widgets.Post=function(e,t,o,n,i){i=VK.Util.parseOptions(i);document.getElementById(e);var r,s,a={owner_id:t,post_id:o,hash:n||"",from:i?i.from:""};return VK.Widgets._constructor("widget_post.php",e,i,a,{showBox:function(e,t){VK.Util.Box(VK.Util.getAbsUrl(e),[],{proxy:r}).show()},startDrag:function(){s=window.document.body.style.cursor,window.document.body.style.cursor="pointer"},stopDrag:function(){window.document.body.style.cursor=s}},{startHeight:90,minWidth:250},(function(e,t,o){t,r=o}))},VK.Widgets.Like=function(e){if(e)return e;var t=[];return(e=function(e,o,n){var i=VK.Util.getPageData();if(!VK._apiId)throw Error("VK not initialized. Please use VK.init");var r,s,a,d,c,l,u={18:43,20:47,22:51,24:55,30:67},p="full"==(o=VK.extend(VK.Util.parseOptions(o),{allowTransparency:!0})).type||"button"==o.type||"vertical"==o.type||"mini"==o.type?o.type:"full",h="auto"===o.width&&("button"==p||"mini"==p),f=parseInt(o.height,10)||22,m=f&&u[f]?f:22,g=h?153:"full"==p?Math.max(200,o.width||350):"button"==p?180:"mini"==p?115:u[m],_="vertical"==p?2*f+7:f,b={page:n||0,url:o.pageUrl||i.url,type:p,verb:1==o.verb?1:0,color:o.color||"",title:o.pageTitle||i.title,description:o.pageDescription||i.description,image:o.pageImage||i.image,text:(o.text||"").substr(0,140),h:f},y=o.ttHere||!1,v=!1,w=null;function K(e){if((v||e)&&c&&d&&c&&("none"==d.style.display||"yes"==d.getAttribute("vkhidden"))){w&&clearTimeout(w),l&&clearTimeout(l);var t=o.getScrollTop?o.getScrollTop():document.body.scrollTop||document.documentElement.scrollTop||0,n=VK.Util.getXY(r,o.fixed),i=y?0:n[1];t>n[1]-120&&"top"!=o.tooltipPos||"vertical"==p||"bottom"==o.tooltipPos?(d.style.top=i+_+2+"px",c.callMethod("show",!1,p+"_"+m)):(d.style.top=i-128+"px",c.callMethod("show",!0,p+"_"+m)),VK.Util.ss(d,{left:(y?0:n[0])-("full"==p||"button"==p?32:2)+"px",display:"block",opacity:1,filter:"none"}),d.setAttribute("vkhidden","no"),v=!0}}function V(e){v&&!e||!c||(c.callMethod("hide"),a.callMethod("hide"),w=setTimeout((function(){d.style.display="none"}),400))}"vertical"!=p&&"button"!=p&&"mini"!=p||delete o.width,h&&(b.auto_width=1);var x=VK.Widgets._constructor("widget_like.php",e,o,b,{initTooltip:function(e){c=new fastXDM.Server({onInit:e?function(){K()}:function(){},proxy:a,showBox:function(e,t){VK.Util.Box(VK.Util.getAbsUrl(e),[t.width,t.height],{proxy:c}).show()}},!1,{safe:!0}),(d=c.append(y?r:document.body,{src:s.src+"&act=a_like_tooltip",scrolling:"no",allowTransparency:!0,id:s.id+"_tt",style:{position:"absolute",padding:0,display:"none",opacity:.01,filter:"alpha(opacity=1)",border:"0",width:"274px",height:"130px",zIndex:5e3,overflow:"hidden"}})).setAttribute("vkhidden","yes"),d.onmouseover=function(){clearTimeout(l),v=!0},d.onmouseout=function(){clearTimeout(l),v=!1,l=setTimeout((function(){V()}),200)}},showTooltip:K,hideTooltip:V,destroy:function(){a.destroy();try{s.src="about: blank;"}catch(e){}if(s.parentNode.removeChild(s),d){try{d.src="about: blank;"}catch(e){}d.parentNode.removeChild(d)}c&&c.destroy()},showBox:function(e,t){VK.Util.Box(VK.Util.getAbsUrl(e),[],{proxy:a}).show()},proxy:function(){c&&c.callMethod.apply(c,arguments)}},{startHeight:_,minWidth:g},(function(e,t,o){a=o,VK.Util.ss(r=e,{height:_+"px",width:g+"px",position:"relative",clear:"both"}),VK.Util.ss(s=t,{height:_+"px",width:g+"px",overflow:"hidden",zIndex:150}),r.onmouseover=function(){clearTimeout(l),v=!0},r.onmouseout=function(){clearTimeout(l),v=!1,l=setTimeout((function(){V()}),200)}}));return t.push(x),x}).destroyAll=function(){for(var e=null;t[0];)(e=VK.Widgets.RPC[t.pop()])&&e.methods.destroy()},e}(VK.Widgets.Like),VK.Widgets.Poll=function(e,t,o){var n=VK.Util.getPageData();if(!o)throw Error("No poll id passed");var i,r={poll_id:o,url:(t=VK.Util.parseOptions(t)).pageUrl||n.url||location.href,title:t.pageTitle||n.title,description:t.pageDescription||n.description};return t.preview&&(r.is_preview=1,delete t.preview),void 0!==t.share&&(r.share=t.share?1:0),VK.Widgets._constructor("al_widget_poll.php",e,t,r,{showBox:function(e,t){VK.Util.Box(VK.Util.getAbsUrl(e),[],{proxy:i}).show()}},{startHeight:144,minWidth:300},(function(e,t,o){i=o}))},VK.Widgets.App=function(e,t,o){if(!t)throw Error("No app id passed");o=VK.Util.parseOptions(o);var n,i=void 0,r=void 0,s={aid:t,mode:parseInt(o.mode,10)||1};switch(s.mode){case 1:o.width=144,i=251;break;case 2:o.width=o.width?Math.max(200,Math.min(1e4,parseInt(o.width,10))):200,r=i=193;break;case 3:o.width=o.width?Math.max(50,Math.min(1e4,parseInt(o.width,10))):void 0,r=i=o.height={18:18,20:20,22:22,24:24,30:30}[parseInt(o.height,10)||30]}return n=o.width,VK.Widgets._constructor("widget_app.php",e,o,s,{},{startHeight:i,height:r,minWidth:n})},VK.Widgets.Community=VK.Widgets.Group=function(e,t,o){if(t=VK.Util.parseOptions(t),!(o=parseInt(o,10)))throw Error("No group_id passed");t.mode=parseInt(t.mode,10).toString();var n,i,r={gid:o,mode:t.mode?t.mode:"0"},s=3==t.mode?185:1==t.mode?141:0|t.height||290;function a(){return n.callMethod("mouseUp"),!1}function d(e){return n.callMethod("mouseMove",{screenY:e.screenY}),!1}return t.wall&&(r.wall=t.wall),r.color1=t.color1||"",r.color2=t.color2||"",r.color3=t.color3||"",r.class_name=t.class_name||"",t.no_head&&(r.no_head=1),t.no_cover&&(r.no_cover=1),t.wide&&(r.wide=1,(!t.width||t.width<300)&&(t.width=300)),0|!t.width&&(t.width=200),VK.Widgets._constructor("widget_community.php",e,t,r,{showBox:function(e,t){VK.Util.Box(VK.Util.getAbsUrl(e),[],{proxy:n}).show()},startDrag:function(){i=window.document.body.style.cursor,window.document.body.style.cursor="pointer",VK.Util.addEvent("mousemove",d),VK.Util.addEvent("mouseup",a)},stopDrag:function(){window.document.body.style.cursor=i,VK.Util.removeEvent("mousemove",d),VK.Util.removeEvent("mouseup",a)},auth:function(){VK.Auth.login(null,1)}},{minWidth:120,startHeight:s},(function(e,t,o){n=o}))},VK.Widgets.Auth=function(e,t){VK.Util.getPageData();if(!VK._apiId)throw Error("VK not initialized. Please use VK.init");return(t=VK.Util.parseOptions(t)).width||(t.width=200),t.type?type=1:type=0,VK.Widgets._constructor("widget_auth.php",e,t,{},{makeAuth:function(e){if(e.session&&(VK.Auth._loadState="loaded",VK.Auth.setSession(e.session,"connected"),VK.Observer.publish("auth.loginStatus",{session:e.session,status:"connected"}),VK.Observer.unsubscribe("auth.loginStatus")),t.onAuth)t.onAuth(e);else{if(t.authUrl)var o=t.authUrl;else o=window.location.href;-1==o.indexOf("?")?o+="?":o+="&";var n=[];for(var i in e)"session"!=i&&n.push(i+"="+decodeURIComponent(e[i]).replace(/&/g,"%26").replace(/\#/g,"%23").replace(/\?/,"%3F"));window.location.href=o+n.join("&")}}},{startHeight:134})},VK.Widgets.Subscribe=function(e,t,o){if(!(o=parseInt(o,10)))throw Error("No owner_id passed");var n,i={oid:o};return(t=VK.Util.parseOptions(t)).mode&&(i.mode=t.mode),t.soft&&(i.soft=t.soft),VK.Widgets._constructor("widget_subscribe.php",e,t,i,{showBox:function(e,t){VK.Util.Box(VK.Util.getAbsUrl(e),[],{proxy:n}).show()},auth:function(){VK.Auth.login(null,1)}},{minWidth:220,startHeight:22},(function(e,t,o){n=o}))},VK.Widgets.ContactUs=function(e,t,o){if(!(o=parseInt(o,10)))throw Error("No group or user id passed");t=VK.Util.parseOptions(t);var n={oid:o,height:{18:18,20:20,22:22,24:24,30:30}[parseInt(t.height,10)||24],text:(t.text||"").substr(0,140)};return VK.Widgets._constructor("widget_contactus.php",e,t,n,{},{startHeight:n.height,height:n.height},(function(e,t,o){o}))},VK.Widgets.Bookmarks=function(e,t){t=VK.Util.parseOptions(t);var o={height:{18:18,20:20,22:22,24:24,30:30}[parseInt(t.height,10)||30],url:t.url||window.location.href};return VK.Widgets._constructor("widget_bookmarks.php",e,t,o,{},{startHeight:o.height,height:o.height},(function(e,t,o){o}))},VK.Widgets.Playlist=function(e,t,o,n,i){var r,s={oid:parseInt(t,10),pid:parseInt(o,10),hash:n||""};if(!s.oid)throw Error("No owner id passed");if(!s.pid)throw Error("No playlist id passed");return i=VK.Util.parseOptions(i),VK.Widgets._constructor("widget_playlist.php",e,i,s,{showBox:function(e,t){VK.Util.Box(VK.Util.getAbsUrl(e),[],{proxy:r}).show()}},{minWidth:200},(function(e,t,o){r=o}))},VK.Widgets.Ads=function(e,t,o){t=VK.Util.parseOptions(t),o=o||{};var n,i={},r={},s={},a=document.getElementById(e),d={},c={},l={};for(var u in o){var p=-1!=function(e,t,o){for(var n=o||0,i=(e||[]).length;n<i;n++)if(e[n]==t)return n;return-1}(["hash"],u)?u:"ads_"+u;d[p]=o[u]}if(a&&a.getBoundingClientRect){a.style.width="100%",a.style.height="100%";var h=a.getBoundingClientRect();a.style.width="",a.style.height="",d.ads_ad_unit_width_auto=Math.floor(h.right-h.left),d.ads_ad_unit_height_auto=Math.floor(h.bottom-h.top)}return l.ads_ad_unit_width=100,l.ads_ad_unit_height=100,c.ads_ad_unit_width=parseInt(d.ads_ad_unit_width)||"auto"===d.ads_ad_unit_width&&d.ads_ad_unit_width_auto||l.ads_ad_unit_width,c.ads_ad_unit_height=parseInt(d.ads_ad_unit_height)||"auto"===d.ads_ad_unit_height&&d.ads_ad_unit_height_auto||l.ads_ad_unit_height,d.ads_handler&&(c.ads_handler=d.ads_handler),d.ads_handler_empty_html&&(c.ads_handler_empty_html=d.ads_handler_empty_html),delete d.ads_handler,delete d.ads_handler_empty_html,i.act="ads_web",i.url=location.href,VK.extend(i,d),t.noDefaultParams=!0,t.width=c.ads_ad_unit_width,t.allowTransparency=!0,r.startHeight=c.ads_ad_unit_height,r.minWidth=c.ads_ad_unit_width,s.adsOnInit=function(e,o){VK.Widgets.loading(a,!1),f(o),t.onAdsReady&&t.onAdsReady.apply(t.onAdsReady,Array.prototype.slice.call(arguments));m(e)},s.newAdsOnInitLoader=function(e){!function(e){if("vk__adsLight"in window)window.vk__adsLight&&vk__adsLight.userHandlers&&vk__adsLight.userHandlers.onInit&&vk__adsLight.userHandlers.onInit(!1);else{window.vk__adsLight=!1;var t=VK.Api&&VK.Api.attachScript||VK.addScript;if(Array.isArray(e))e.forEach((function(e){t(VK._domain.base+e)}));else{var o=parseInt(e);t(VK._domain.base+jsc("/web/ads_light.js?")+o)}}}(JSON.parse(e.replace(/&#039;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")))},VK.Widgets._constructor("ads_rotate.php",e,t,i,s,r,(function(e,t,o){a=e,n=t,o}));function f(e){if(e)for(var t in e){var o=e[t];"ads_ad_unit_width"===t||"ads_ad_unit_height"===t?t in d||(c[t]=parseInt(o)||"auto"===o&&d[t+"_auto"]||l[t]):t in c||(c[t]=o)}}function m(e){var t=function(e){var t=!1;try{if(!e)return!1;var o=!1;if(d(e))o=e;else if(c(e)){var n=e.split(".");o=window;for(var i=0,r=n.length;i<r&&(o=o[n[i]]);i++);if(!o){"function"===e.substr(0,8)&&(e="return "+e+";");var s=new Function(e)();d(s)?o=s:t=s}}if(o){var a=Array.prototype.slice.call(arguments,1);t=o.apply(o,a)}}catch(l){try{console.error(l)}catch(u){}}return t;function d(e){return"[object Function]"===Object.prototype.toString.call(e)}function c(e){return"[object String]"===Object.prototype.toString.call(e)}}(c.ads_handler,e);if(e<=0&&!0!==t){try{console.log("VK: ad_unit_id = "+d.ads_ad_unit_id,", errorCode = ",e)}catch(o){}!function(e,t,i){if(!e)return;if(!a)return;t=t?t+"px":"",i=i?i+"px":"";var r='<html><head></head><body style="padding: 0; margin: 0;"><div>'+e+"</div></body></html>",s=document.createElement("iframe");function d(){if(!i)try{var e=s.contentWindow.document.body.firstChild.getBoundingClientRect(),t=Math.ceil(e.bottom-e.top);t&&(s.style.height=t,a.style.height=t)}catch(o){}}s.onload=d,s.id=(n?n.id:"vkwidget-"+Math.round(1e6*Math.random()))+"_ads_html_handler",s.src="about:blank",s.width="100%",s.height="100%",s.scrolling="no",s.frameBorder="0",s.allowTransparency=!0,s.style.overflow="hidden",s.style.width=t,s.style.height=i,a.style.width=t,a.style.height=i,a.appendChild(s),s.contentWindow.vk_ads_html_handler=r,s.src='javascript:window["vk_ads_html_handler"]'}(c.ads_handler_empty_html,c.ads_ad_unit_width,c.ads_ad_unit_height)}}},VK.Widgets.AllowMessagesFromCommunity=function(e,t,o){if(!(o=parseInt(o,10))||o<0)throw Error("No group id passed");t=VK.Util.parseOptions(t);var n={height:{22:22,24:24,30:30}[parseInt(t.height,10)||24],key:t.key?t.key.substr(0,256):"",group_id:o};return VK.Widgets._constructor("widget_allow_messages_from_community.php",e,t,n,{},{startHeight:n.height,height:n.height},(function(e,t,o){o}))},VK.Widgets.Article=function(e,t,o){var n,i={url:t};return o=VK.Util.parseOptions(o),VK.Widgets._constructor("widget_article.php",e,o,i,{showBox:function(e){VK.Util.Box(VK.Util.getAbsUrl(e),[],{proxy:n}).show()}},{},(function(e,t,o){n=o}))},VK.Widgets.Podcast=function(e,t,o,n){var i={episode:t,hash:o};return n=VK.Util.parseOptions(n),VK.Widgets._constructor("widget_podcast.php",e,n,i,{showBox:function(e){VK.Util.Box(VK.Util.getAbsUrl(e),[],{proxy:rpc}).show()}},{minWidth:300,startHeight:150})},VK.Widgets.CommunityMessages=function(e){if(e)return e;var t={},o={},n={no_button:{width:0,height:0},blue_circle:{width:50,height:50,margin:{bottom:20}}},i={left:{bottom:0,left:20},right:{bottom:0,right:20}};return(e=function(r,s,a){(a=VK.Util.parseOptions(a)).width=300,a.height=399,a.expandTimeout=parseInt(a.expandTimeout)||0;var d={gid:s};a.expanded=parseInt(a.expanded)||0,(!a.from_dev&&null!=function(e){if(!window.localStorage)return null;return localStorage.getItem("vk_community_widget_"+e)}("expanded")||a.expanded)&&(a.shown=1),a.shown&&(d.shown=1),a.welcomeScreen||(d.disable_welcome_screen=1),d.ref_source_info=a.ref_source_info,d.ref_source_link=location.href;var c=a.buttonType;-1==Object.keys(n).indexOf(c)&&(c="blue_circle"),"no_button"==c&&(a.disableButtonTooltip=1),a.disableButtonTooltip&&(d.disable_tooltip=1),a.tooltipButtonText&&(d.tooltip_text=a.tooltipButtonText),a.disableNewMessagesSound&&(d.disable_new_messages_sound=1),t[r]&&e.destroy(r),d.domain=document.domain,a.no_loading=1;var l,u,p,h=!1,f=0,m=[0,0];K(a.widgetPosition),d.button_position=a.widgetPosition;var g=0,_={};function b(e){clearTimeout(o.titleTimer),o.titleTimer=setTimeout((function(){1==o.changeTitleMode?document.title=o.oldTitle||"":document.title=o.title,o.changeTitleMode=1==o.changeTitleMode?0:1,b()}),e?0:1500)}function y(){a.disableTitleChange||(clearTimeout(o.titleTimer),o.oldTitle?document.title=o.oldTitle:null===o.oldTitle&&(document.title=""),o.title="")}function v(){var e=document.getElementById(r),t=e.getElementsByTagName("iframe")[0];e.style.width=t.width="372px",e.style.height=t.height="399px",e.style.margin="0px 0px 0px 0px"}function w(){var e=document.getElementById(r),t=e.getElementsByTagName("iframe")[0],o=n[c],i=o.width+m[0],s=Math.max(o.height,m[1]);e.style.width=i+"px",e.style.height=s+"px",t.style.boxShadow="none";var a=o.margin?o.margin:{};e.style.margin="0px "+(a.right||0)+"px "+(a.bottom||0)+"px 0px",t&&(t.width=i,t.height=s)}function K(e){l=e,-1==Object.keys(i).indexOf(l)&&(l="right"),V(),x("changeButtonPosition",l)}function V(){var e=document.getElementById(r);if(e){var t=["left","right","top","bottom"];for(var o in t)e.style[t[o]]="";var n=i[l];for(var o in n)e.style[o]=n[o]+"px";g&&(f?v():w())}}function x(){u&&u.callMethod.apply(u,arguments)}function O(e){e&&"[object Object]"===Object.prototype.toString.call(e)||(e={}),void 0==e.welcomeScreen&&(e.welcomeScreen=a.welcomeScreen),clearTimeout(_.showTimer),x("expand",e)}function j(e){x("setSourceData",VK.extend({link:location.href},e))}return t[r]=VK.Widgets._constructor("widget_community_messages.php",r,a,d,{onStartLoading:function(){var e=document.getElementById(r);e.style.position="fixed",e.style["z-index"]=1e4,V()},onReady:function(){g=1,a.expandTimeout>0&&!a.shown&&(_.showTimer=setTimeout((function(){O({playSong:!a.disableExpandChatSound,noSaveState:1})}),a.expandTimeout))},showBox:function(e){if(h)try{h.hide();try{h.iframe.src="about: blank;"}catch(t){}h.iframe.parentNode.removeChild(h.iframe)}catch(t){}(h=VK.Util.Box(VK.Util.getAbsUrl(e),[],{proxy:u},{zIndex:10002})).show()},setTooltipSize:function(e){m=e,f||w()},expand:function(e){var t,o;e=e||{},f=1,v(),e.noSaveState||(t="expanded",o=1,window.localStorage&&localStorage.setItem("vk_community_widget_"+t,o))},minimize:function(){setTimeout((function(){var e;f=0,w(),e="expanded",window.localStorage&&localStorage.removeItem("vk_community_widget_"+e)}),120)},canNotWrite:function(e){a.onCanNotWrite&&a.onCanNotWrite(e)},destroy:function(){u.destroy();try{p.src="about: blank;"}catch(e){}try{p.parentNode.removeChild(p)}catch(e){}},fatalError:function(t,o){var n={code:t,widget:2,public_id:o};1903==t&&(n.referrer_domain=document.domain);var i=[];for(var s in n)i.push(s+"="+n[s]);e.destroy(r),VK.Util.Box(VK.Util.getAbsUrl("blank.php?"+i.join("&"))).show()},setPageTitle:function(e){a.disableTitleChange||(y(),o.oldTitle=document.title||null,o.title=e,o.changeTitleMode=0,b(1))},resetPageTitle:function(){y()},newMessage:function(){!document.hasFocus||document.hasFocus()||a.disableNewMessagesSound||x("playNewMsgSong")}},{},(function(e,t,o){u=o,p=t,a.shown?v():w()})),VK.Util.addEvent("popstate",j.bind(this,{}),window),VK.Util.addEvent("hashchange",j.bind(this,{}),window),{expand:O,minimize:function(){x("minimize")},destroy:function(){y(),e.destroy(r)},setSourceData:j,changeButtonPosition:K,stopTitleAnimation:y}}).destroy=function(e){if(t[e]){var o=VK.Widgets.RPC[t[e]];o&&o.methods.destroy(),delete t[e]}},e.expand=function(e){console.log(t[e])},e}(VK.Widgets.CommunityMessages),VK.Widgets._constructor=function(e,t,o,n,i,r,s,a,d){var c=document.getElementById(t);if(a=a||++VK.Widgets.count,!c){if((d=d||0)>10)throw Error("VK.Widgets: object #"+t+" not found.");return setTimeout((function(){VK.Widgets._constructor(e,t,o,n,i,r,s,a,d+1)}),500),a}r=r||{},i=i||{},(o=o||{}).preview&&(n.preview=1,delete o.preview);var l,u,p,h,f,m,g="auto"===o.width?0|(c.clientWidth||c.offsetWidth||r.minWidth):parseInt(o.width||0,10);"silent_code"===n.act?(g="1px",c.style.opacity=0,c.style.display="none",c.style.position="absolute"):g=g?Math.max(r.minWidth||200,Math.min(r.maxWidth||1e4,g))+"px":"100%",c.style.width=g,o.height?(n.height=o.height,c.style.height=o.height+"px"):c.style.height=(r.startHeight||200)+"px","100%"===g&&(n.startWidth=0|(c.clientWidth||c.offsetWidth)),n.url||(n.url=o.pageUrl||location.href.replace(/#.*$/,"")),l=VK._domain.base+"/"+e,u="",o.noDefaultParams||(u+="&app="+(VK._apiId||"0")+"&width="+encodeURIComponent(g)),u+="&_ver="+VK.version,VK._iframeAppWidget&&(n.iframe_app=1);var _=VK.Util.getPageData();for(m in n.url=n.url||_.url||"",n.referrer=n.referrer||document.referrer||"",n.title=n.title||_.title||document.title||"",n){if("title"==m&&n[m].length>80&&(n[m]=n[m].substr(0,80)+"..."),"description"==m&&n[m].length>160&&(n[m]=n[m].substr(0,160)+"..."),"number"==typeof n[m])p=n[m];else try{p=encodeURIComponent(n[m])}catch(y){p=""}u+="&"+m+"="+p}l+="?"+(u+="&"+(+new Date).toString(16)).substr(1),i.onStartLoading&&i.onStartLoading(),o.no_loading||VK.Widgets.loading(c,!0),i.showLoader=function(e){VK.Util.Loader(e)},i.publish=function(){var e=Array.prototype.slice.call(arguments);e.push(a),VK.Observer.publish.apply(VK.Observer,e)},i.onInit=function(){VK.Widgets.loading(c,!1),i.onReady&&i.onReady(),o.onReady&&o.onReady()},i.resize=function(e,t){c.style.height=e+"px";var o=document.getElementById("vkwidget"+a);o&&(o.style.height=e+"px")},i.resizeWidget=function(e,t){e=parseInt(e),t=parseInt(t);var n=document.getElementById("vkwidget"+a);isFinite(e)&&(c.style.width=e+"px",n&&(n.style.width=e+"px")),isFinite(t)&&(c.style.height=t+"px",n&&(n.style.height=t+"px")),o.onResizeWidget&&o.onResizeWidget()},i.updateVersion=function(e){e>1&&VK.Api.attachScript("//vk.com/js/api/openapi_update.js?"+parseInt(e))},h=VK.Widgets.RPC[a]=new fastXDM.Server(i,(function(e){return!e||(e=e.toLowerCase()).match(/(\.|\/)vk\.com($|\/|\?)/)}),{safe:!0});var b={overflow:"hidden"};return o.custom_style&&"object"===typeof o.custom_style&&(b=VK.extend(b,o.custom_style)),f=VK.Widgets.RPC[a].append(c,{src:l,width:-1!=g.indexOf("%")?g:parseInt(g)||g,height:r.startHeight||"100%",scrolling:"no",id:"vkwidget"+a,allowTransparency:o.allowTransparency||!1,style:b}),s&&setTimeout((function(){s(c,f||c.firstChild,h)}),10),a}),VK.Util||(VK.Util={getPageData:function(){if(!VK._pData){var e,t=document.getElementsByTagName("meta"),o={},n=["description","title","url","image","app_id"];for(var i in t)if(t[i].getAttribute&&t[i].getAttribute&&((e=t[i].getAttribute("name"))||(e=t[i].getAttribute("property"))))for(var r in n)e!=n[r]&&e!="og:"+n[r]&&e!="vk:"+n[r]||(o[n[r]]=t[i].content);o.app_id&&!VK._apiId&&(VK._apiId=o.app_id),o.title=o.title||document.title||"",o.description=o.description||"",o.image=o.image||"",!o.url&&VK._iframeAppWidget&&VK._apiId&&(o.url="/app"+VK._apiId,VK._browserHash&&(o.url+=VK._browserHash));var s=location.href.replace(/#.*$/,"");o.url&&o.url.indexOf(s)||(o.url=s),VK._pData=o}return VK._pData},getStyle:function(e,t){var o,n=document.defaultView||window;if(n.getComputedStyle){t=t.replace(/([A-Z])/g,"-$1").toLowerCase();var i=n.getComputedStyle(e,null);i&&(o=i.getPropertyValue(t))}else if(e.currentStyle){var r=t.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()}));o=e.currentStyle[t]||e.currentStyle[r]}return o},getAbsUrl:function(e){return VK._domain.base+"/"+e.replace(/^\s*\/?/,"")},parseOptions:function(e){return"[object Object]"!==Object.prototype.toString.call(e)&&(e={}),e.base_domain&&(VK._domain.base=e.base_domain),e.login_domain&&(VK._domain.login=e.login_domain),e},getXY:function(e,t){if(e&&void 0!==e){var o=0,n=0;if(void 0!==e.getBoundingClientRect){var i=e.getBoundingClientRect();o=i.left,n=i.top,t=!0}else if(e.offsetParent)do{o+=e.offsetLeft,n+=e.offsetTop,t&&(o-=e.scrollLeft,n-=e.scrollTop)}while(e=e.offsetParent);return t&&(n+=window.pageYOffset||window.scrollNode&&scrollNode.scrollTop||document.documentElement.scrollTop,o+=window.pageXOffset||window.scrollNode&&scrollNode.scrollLeft||document.documentElement.scrollLeft),[o,n]}},Loader:function e(t){e.loader||((e.loader=document.createElement("DIV")).innerHTML='<style type="text/css">        @-webkit-keyframes VKWidgetsLoaderKeyframes {0%{opacity: 0.2;}30%{opacity: 1;}100%{opacity: 0.2;}}        @keyframes VKWidgetsLoaderKeyframes {0%{opacity: 0.2;}30%{opacity: 1;}100%{opacity: 0.2;}}        .VKWidgetsLoader div {width: 7px;height: 7px;-webkit-border-radius: 50%;-khtml-border-radius: 50%;-moz-border-radius: 50%;border-radius: 50%;background: #fff;top: 21px;position: absolute;z-index: 2;-o-transition: opacity 350ms linear; transition: opacity 350ms linear;opacity: 0.2;-webkit-animation-duration: 750ms;-o-animation-duration: 750ms;animation-duration: 750ms;-webkit-animation-name: VKWidgetsLoaderKeyframes;-o-animation-name: VKWidgetsLoaderKeyframes;animation-name: VKWidgetsLoaderKeyframes;-webkit-animation-iteration-count: infinite;-o-animation-iteration-count: infinite;animation-iteration-count: infinite;-webkit-transform: translateZ(0);transform: translateZ(0);}</style><div class="VKWidgetsLoader" style="position: fixed;left: 50%;top: 50%;margin: -25px -50px;z-index: 1002;height: 50px;width: 100px;"><div style="left: 36px;-webkit-animation-delay: 0ms;-o-animation-delay: 0ms;animation-delay: 0ms;"></div><div style="left: 47px;-webkit-animation-delay: 180ms;-o-animation-delay: 180ms;animation-delay: 180ms;"></div><div style="left: 58px;-webkit-animation-delay: 360ms;-o-animation-delay: 360ms;animation-delay: 360ms;"></div><span style="display: block;background-color: #000;-webkit-border-radius: 4px;-khtml-border-radius: 4px;-moz-border-radius: 4px;border-radius: 4px;-webkit-box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.35);-moz-box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.35);box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.35);position: absolute;left: 0;top: 0;bottom: 0; right: 0;z-index: 1;opacity: 0.7;"></span></div>',document.body.insertBefore(e.loader,document.body.firstChild)),e.loader.style.display=t?"block":"none"},Box:function(e,t,o,n){o=o||{};var i=document.body.style.overflow;VK.Util.Loader(!0);var r=/(^|\.)(vk\.com|vkontakte\.ru)$/.test(location.hostname),s=new fastXDM.Server(VK.extend(o,{onInit:function(){a.style.background="transparent",a.style.visibility="visible",document.body.style.overflow="hidden",a.setAttribute("allowfullscreen",1),r&&(document.body.className+=" layers_shown"),VK.Util.Loader()},hide:function(){a.style.display="none"},tempHide:function(){a.style.left="-10000px",a.style.top="-10000px",a.style.width="10px",a.style.height="10px",r&&(document.body.className=document.body.className.replace(/\b\s*?layers_shown\s*\b/," ")),document.body.style.overflow=i},destroy:function(){try{a.src="about: blank;"}catch(e){}a.parentNode.removeChild(a),r&&(document.body.className=document.body.className.replace(/\b\s*?layers_shown\s*\b/," ")),document.body.style.overflow=i},resize:function(e,t){}},!0),!1,{safe:!0}),a=s.append(document.body,{src:e.replace(/&amp;/g,"&"),scrolling:"no",allowTransparency:!0,style:{position:"fixed",left:0,top:0,zIndex:n&&n.zIndex||1002,background:VK._domain.base+"/images/upload.gif center center no-repeat transparent",padding:"0",border:"0",width:"100%",height:"100%",overflow:"hidden",visibility:"hidden"}});return{show:function(e,t){a.style.display="block",document.body.style.overflow="hidden"},hide:function(){a.style.display="none",document.body.style.overflow=i},iframe:a,rpc:s}},addEvent:function(e,t,o){(o=o||window.document).addEventListener?o.addEventListener(e,t,!1):o.attachEvent&&o.attachEvent("on"+e,t)},removeEvent:function(e,t,o){(o=o||window.document).removeEventListener?o.removeEventListener(e,t,!1):o.detachEvent&&o.detachEvent("on"+e,t)},ss:function(e,t){VK.extend(e.style,t,!0)}}),VK.Retargeting||(VK.Retargeting={pixelCode:null,Init:function(e){return this.pixelCode=e,this},Event:function(e){if(this.pixelCode){var t=VK.Util.getPageData(),o=t.url.substr(0,500),n=t.title&&t.title.substr(0,500)||"";(window.Image?new Image:document.createElement("img")).src="https://vk.com/rtrg?p="+this.pixelCode+(e?"&event="+encodeURIComponent(e):"")+(o?"&metatag_url="+encodeURIComponent(o):"")+(n?"&metatag_title="+encodeURIComponent(n):"")}},Hit:function(){this.Event()},Add:function(e){this.pixelCode&&e&&((window.Image?new Image:document.createElement("img")).src="https://vk.com/rtrg?p="+this.pixelCode+"&audience="+encodeURIComponent(e))},ProductEvent:function(e,t,o,n){if(this.pixelCode&&t&&e){var i=!0;"undefined"!==typeof(n=n||{}).show_errors&&(i=!!n.show_errors);var r="0";"undefined"!==typeof n.errors_ignore&&(r=n.errors_ignore?"1":"0");var s=VK.Util.getPageData(),a=s.url.substr(0,500),d=s.title&&s.title.substr(0,500)||"",c=o?JSON.stringify(o):"",l={p:this.pixelCode,products_event:t,price_list_id:e,e:"1",i:r,metatag_url:a,metatag_title:d};c&&(l.products_params=c);var u="https://vk.com/rtrg?"+Object.keys(l).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(l[e])})).join("&");VK.Api.makeRequest(u,this.onDone.bind(this,i))}},onDone:function(e,t){if(t&&e){var o;try{o=JSON.parse(t)}catch(n){return}o&&o.errors&&this.showErrors(o.errors)}},showErrors:function(e){if(e||e.length){var t="VK Pixel Error ("+this.pixelCode+"): ";if("string"!==typeof e){var o=e.length;if(o)for(var n=0;n<o;n++)console.error(t+e[n])}else console.error(t+e)}}}),VK.Pixel||(VK.Pixel=function(e){if(this.constructor!=VK.Pixel)throw Error("VK.Pixel was called without 'new' operator");return VK.extend(this,VK.Retargeting),this.pixelCode=e,this.Goal=function(t,o){return VK.Goal(t,o,e)},this}),VK.Goal||(VK.Goal=function(e,t,o){var n=o||VK.Retargeting.pixelCode;if(n&&"string"===typeof n){var i=e||"conversion";if("string"===typeof i){var r=(t||{}).value||0;if("string"===typeof r){if(parseFloat(r).toString()!==r)return void console.error("Error argument: parameters.value not a number or valid number string")}else if("number"!==typeof r)return void console.error("Error argument: parameters.value not a number or valid number string");var s={p:n,e:"1",c:i,v:r},a="https://vk.com/rtrg?"+Object.keys(s).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(s[e])})).join("&");VK.Api.makeRequest(a,VK.Retargeting.onDone.bind(VK.Retargeting,!0))}else console.error("Error argument: conversionName not a string")}else console.error("Error argument: pixelCode not a string. Use VK.Retargeting.Init or VK.Pixel to initialize pixel")}),window.vkAsyncInit&&setTimeout(vkAsyncInit,0),window.vkAsyncInitCallbacks&&vkAsyncInitCallbacks.length&&setTimeout((function(){for(var e;e=vkAsyncInitCallbacks.pop();)try{e()}catch(t){try{console.error(t)}catch(o){}}}),0);try{stManager.done("api/openapi.js")}catch(e){}},45:function(e,t,o){"use strict";o.r(t);var n=o(0),i=o(1),r=o.n(i),s=o(7),a=o.n(s),d=o(4),c=(o(32),o(33),o(34),o(16)),l=o(17),u=o(21),p=o(20),h=function(e){Object(u.a)(o,e);var t=Object(p.a)(o);function o(e){var n;return Object(c.a)(this,o),(n=t.call(this,e)).state={hasError:!1},n}return Object(l.a)(o,[{key:"componentDidCatch",value:function(e,t){console.log(t)}},{key:"render",value:function(){return this.state.hasError?Object(n.jsx)("h1",{children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),o}(r.a.Component),f=o.p+"static/media/logo.6ce24c58.svg",m=(o(35),o(36),function(e){var t=e.user;return Object(n.jsxs)("div",{className:"toggle",children:[Object(n.jsx)("label",{className:"label_text__toogle",children:"Authorization: "}),Object(n.jsx)("input",{className:"input__toggle",type:"checkbox",id:"buttonThree",checked:t.isAuthorized,onChange:t.isAuthorized?function(){t.logout()}:function(){t.login()}}),Object(n.jsx)("label",{className:"label__toggle",htmlFor:"buttonThree",children:Object(n.jsx)("i",{})})]})}),g=function(e){var t=e.user;Object(i.useEffect)((function(){console.info("Header render")}));var o=function(){return t.error?Object(n.jsx)("p",{children:"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"}):t.isFetching?Object(n.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u044e..."}):Object(n.jsxs)("div",{className:"welcome",children:[Object(n.jsxs)("p",{className:"welcome__word",children:["Welcome, "," "]}),Object(n.jsx)("p",{className:"welcome__word_user ".concat(t.isAuthorized?"welcome__word_anon":""),children:t.name})]})};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("header",{className:"App-header",children:[Object(n.jsx)("div",{className:"app__logo",children:Object(n.jsx)("img",{src:f,alt:"logo img",className:"app__logo_img"})}),Object(n.jsx)(o,{}),Object(n.jsx)(m,{user:t})]})})},_="@@PAGE/SET_SEARCH_MID",b="@@PAGE/SET_DEFAULT_SEARCH_MID",y="@@PAGE/RESTORE_DEFAULT_SEARCH_MID",v="@@PAGE/GET_PHOTOS_REQUEST",w="@@PAGE/GET_PHOTOS_SUCCESS",K="@@PAGE/GET_PHOTOS_FAIL",V="@@USER/LOGIN_REQUEST",x="@@USER/LOGIN_SUCCESS",O="@@USER/LOGIN_FAIL",j="@@USER/LOGOUT_REQUEST",I="@@USER/LOGOUT_SUCCESS",k="@@USER/LOGOUT_FAIL",S=o(6),C=function(e){return function(t){return function(o){return o({type:e,payload:t})}}},A=C(_),U=C(y),E=C(w),T=C(K),M=C(v),D=[],W=!1,N=null,R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{year:0,likes:0,mid:0};return function(t){(t(M(e.year)),N!==e.mid&&(W=!1,D=[]),W)?o():new Promise((function(t,o){N=e.mid,P(0,200,e.mid,{resolve:t,reject:o})})).then((function(e){console.log("Fulfilled: ",e),D=e,W=!0,o()}),(function(e){console.log("Rejected: ",e),t(T(new Error(e)))}));function o(){var o=Object(S.a)(D);e.year&&(o=L(o,e.year)),o=B(o,e.likes),t(E(o))}}},L=function(e,t){var o=[];return e.forEach((function(e){new Date(1e3*e.date).getFullYear()===t&&o.push(e)})),o.sort((function(e,t){return t.likes.count-e.likes.count})),o},B=function(e,t){var o=Object(S.a)(e);switch(t){case 1:return o.sort((function(e,t){return e.likes.count-t.likes.count}));case-1:return o.sort((function(e,t){return t.likes.count-e.likes.count}));default:return o}},P=function(e,t,o,n){var i=[],r=setTimeout((function(){n.reject(new Error("Timeout Error"))}),1e4);!function s(){VK.Api.call("photos.getAll",{owner_id:o,extended:1,count:t,offset:e,v:"5.80"},(function(t){try{i=[].concat(Object(S.a)(i),Object(S.a)(t.response.items)),e<=t.response.count?(e+=200,s()):(clearTimeout(r),n.resolve(i))}catch(o){n.reject(o)}}))}()},X=Object(d.b)((function(e){return{user:e.user}}),(function(e){return{login:function(){return e((function(e){e({type:V}),VK.Auth.login((function(t){if(t.session){var o=t.session.user.first_name,n=t.session.mid;e({type:x,payload:{username:o,mid:n}}),e({type:b,payload:n}),e({type:y,payload:n}),e(R({year:0,likes:0,mid:n}))}else e({type:O,error:!0,payload:new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438")})}),4)}))},logout:function(){return e((function(e){e({type:j}),VK.Auth.logout((function(t){t?(e({type:I}),e({type:b,payload:null})):e({type:k,error:!0,payload:new Error("LogOut ERROR")})}))}))}}}))((function(e){var t=e.user,o=e.login,i=e.logout;return t.login=o,t.logout=i,Object(n.jsx)(g,{user:t})})),F=o(9),H=(o(37),o(38),o(39),function(e){var t=e.photo;return Object(n.jsx)("li",{className:"el",children:Object(n.jsxs)("div",{className:"el_container",children:[Object(n.jsx)("div",{className:"img_container",children:Object(n.jsx)("img",{className:"el__photo",src:t.sizes[t.sizes.length-1].url,alt:"you_photo"})}),Object(n.jsxs)("div",{className:"likes",children:[t.likes.count," ",Object(n.jsx)("p",{className:"like",children:"\u2764"})]})]})})}),z=function(e){var t=e.isFetching,o=e.year,i=e.photos;return Object(n.jsx)("div",{className:"top__main",children:t?Object(n.jsx)("p",{children:"Loading..."}):Object(n.jsxs)(n.Fragment,{children:[o?Object(n.jsx)("div",{className:"top_main__year",children:"".concat(o," \u0433\u043e\u0434 [").concat(i.length,"]")}):Object(n.jsx)("div",{className:"top_main__year",children:"ALL [".concat(i.length,"]")}),Object(n.jsx)("ul",{className:"photo_list",children:i.length>0?i.map((function(e){return Object(n.jsx)(H,{photo:e},e.id)})):Object(n.jsx)("p",{className:"no-photos",children:"\u0412 \u044d\u0442\u043e\u043c \u0433\u043e\u0434\u0443 \u043d\u0435 \u0431\u044b\u043b\u043e \u043d\u043e\u0432\u044b\u0445 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439..."})})]})})},G=(o(40),o(41),function(e){var t=e.onBtnYearClick,o=e.year,i=e.isFetching;return Object(n.jsx)("li",{className:"btn_year-el",children:Object(n.jsx)("button",{className:"btn btn-info btn_year",onClick:function(e){t(e,o)},disabled:i,children:o})})}),q=(o(42),function(e){var t=e.getPhotos,o=e.search_mid,i=e.isFetching,r=e.yearListUniq,s=function(e){var n=+e.currentTarget.innerText;isNaN(n)?t(0,-1,o):t(n,-1,o)};return Object(n.jsxs)("ul",{className:"top__filter__years",children:[Object(n.jsx)("li",{className:"btn_year-el",children:Object(n.jsx)("button",{className:"btn btn-info btn_year",onClick:function(e){return s(e)},disabled:i,children:"ALL"})}),r.map((function(e){return Object(n.jsx)(G,{onBtnYearClick:s,year:e,isFetching:i},e)}))]})}),J=(o(43),function(e){var t=e.restoreDefaultSearchMID,o=e.setSearchMID,i=e.search_mid;return Object(n.jsxs)("div",{className:"top__filter__text",children:[Object(n.jsx)("details",{children:Object(n.jsxs)("div",{className:"search_mid",children:[Object(n.jsx)("label",{htmlFor:"search_mid",children:'\u0412\u0432\u0435\u0434\u0438\u0442\u0435 id \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u0433\u0440\u0443\u043f\u043f\u044b (\u0433\u0440\u0443\u043f\u043f\u0443 \u0441\u043e \u0437\u043d\u0430\u043a\u043e\u043c "-" \u0432 \u043d\u0430\u0447\u0430\u043b\u0435): '}),Object(n.jsx)("input",{type:"text",name:"search_mid",id:"search_mid",onChange:function(e){var n=e.currentTarget.value;n?o(n):(console.log("restoreDefaultSearchMID"),t())}})]})}),i?Object(n.jsxs)("p",{children:["\u0422\u043e\u043f \u0444\u043e\u0442\u043e \u043f\u043e \u0433\u043e\u0434\u0430\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ",i]}):Object(n.jsx)("p",{children:"\u041c\u043e\u0439 \u0442\u043e\u043f \u0444\u043e\u0442\u043e \u043f\u043e \u0433\u043e\u0434\u0430\u043c"})]})}),$=function(e){var t=e.isFetching,o=e.restoreDefaultSearchMID,i=e.getPhotos,r=e.search_mid,s=e.setSearchMID,a=e.yearListUniq;return Object(n.jsx)("div",{className:"top",children:Object(n.jsxs)("div",{className:"top__filter",children:[Object(n.jsx)(J,{restoreDefaultSearchMID:o,setSearchMID:s,search_mid:r}),Object(n.jsx)(q,{getPhotos:i,search_mid:r,yearListUniq:a,isFetching:t})]})})},Y=function(e){var t=e.page,o=e.yearListUniq;return Object(i.useEffect)((function(){console.info("Body render")})),Object(n.jsxs)("div",{className:"app__body container",children:[Object(n.jsx)($,{isFetching:t.isFetching,restoreDefaultSearchMID:t.restoreDefaultSearchMID,getPhotos:t.getPhotos,search_mid:t.search_mid,setSearchMID:t.setSearchMID,yearListUniq:o}),t.error?Object(n.jsx)("div",{}):Object(n.jsx)(z,{isFetching:t.isFetching,year:t.year,photos:t.photos})]})},Q=Object(d.b)((function(e){return{user:e.user,page:e.page}}),(function(e){return{getPhotos:function(t,o,n){return e(R({year:t,likes:o,mid:n}))},setSearchMID:function(t){return e(A(t))},restoreDefaultSearchMID:function(){return e(U())}}}))((function(e){var t=e.page,o=e.getPhotos,r=e.setSearchMID,s=e.restoreDefaultSearchMID,a=e.user;t.getPhotos=o,t.setSearchMID=r,t.restoreDefaultSearchMID=s;var d=Object(i.useState)(null),c=Object(F.a)(d,2),l=c[0],u=c[1],p=Object(i.useState)([]),h=Object(F.a)(p,2),f=h[0],m=h[1],g=Object(i.useState)([]),_=Object(F.a)(g,2),b=_[0],y=_[1];Object(i.useEffect)((function(){var e=t.search_mid!==l&&!n(t.photos,f)&&t.photos.length;if(console.log("$$$$$$$$$$$$$ useEffect page.search_mid: ".concat(t.search_mid," cachedMid: : ").concat(l," !== ").concat(t.search_mid!==l," \n        page.photos: "),t.photos," prevPhotos: : ",f," !== ".concat(!n(t.photos,f))),e){var o=[];t.photos.forEach((function(e){var t=new Date(1e3*e.date).getFullYear();o.includes(t)||o.push(t)})),o.sort(),y(o),u(t.search_mid),m(t.photos)}function n(e,t){if(e.length!==t.length)return console.log("arr1.length !== arr2.length"),!1;var o=!0;return e.forEach((function(n,i){e[i].id!==t[i].id&&(o=!1)})),console.log("isEqualIDs: ",o),o}}),[t.search_mid,t.photos,l,f,b]);return Object(n.jsx)(n.Fragment,{children:a.isAuthorized?Object(n.jsx)(Y,{page:t,yearListUniq:b}):Object(n.jsx)("p",{className:"need_to_log_in",children:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c..."})})}));o(44);VK.init({apiId:7719277});var Z=function(){return Object(n.jsx)(h,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(X,{}),Object(n.jsx)(Q,{})]})})},ee=o(3),te=o(2),oe={name:"$\ufffdanon\ufffdmous\ufffd\ufffd_\ufffd",mid:null,search_mid:null,isFetching:!1,isAuthorized:!1,error:""},ne={search_mid:null,default_search_mid:null,year:null,photos:[],isFetching:!1,error:""},ie=Object(ee.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(te.a)(Object(te.a)({},e),{},{isAuthorized:!1,isFetching:!0,error:""});case x:return Object(te.a)(Object(te.a)({},e),{},{isAuthorized:!0,isFetching:!1,name:t.payload.username,mid:t.payload.mid});case O:return Object(te.a)(Object(te.a)({},e),{},{isFetching:!1,error:t.payload.message});case j:return Object(te.a)(Object(te.a)({},e),{},{isFetching:!0,error:""});case I:return Object(te.a)({},oe);case k:return Object(te.a)(Object(te.a)({},e),{},{isFetching:!1,error:t.payload.message});default:return e}},page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(te.a)(Object(te.a)({},e),{},{year:t.payload,isFetching:!0,photos:[]});case w:return Object(te.a)(Object(te.a)({},e),{},{photos:t.payload,isFetching:!1});case K:return Object(te.a)(Object(te.a)({},e),{},{isFetching:!1,error:t.payload.message});case _:return Object(te.a)(Object(te.a)({},e),{},{search_mid:t.payload});case b:return Object(te.a)(Object(te.a)({},e),{},{default_search_mid:t.payload});case y:return Object(te.a)(Object(te.a)({},e),{},{search_mid:e.default_search_mid});default:return e}}}),re=o(18),se=o.n(re),ae=o(19),de=Object(ee.d)(ie,Object(ee.a)(ae.a,se.a));a.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(d.a,{store:de,children:Object(n.jsx)(Z,{})})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.83f6ab76.chunk.js.map